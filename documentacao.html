<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Documenta√ß√£o da API CodeHUB</title>
  <link rel="documentation" href="documentacao.json">
  <style>
    :root{font-family: Inter,ui-sans-serif,system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:#0f172a}
    body{margin:0; padding:32px; background:#f8fafc}
    .container{max-width:900px; margin:0 auto; background:#fff; padding:28px; border-radius:12px; box-shadow:0 6px 24px rgba(15,23,42,0.06)}
    h1{font-size:26px; margin:0 0 6px}
    h2{font-size:18px; margin-top:18px}
    p{line-height:1.5}
    pre{background:#0f172a; color:#f8fafc; padding:12px; border-radius:8px; overflow:auto}
    code{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace}
    ul{margin-left:18px}
    .note{background:#fffbeb; padding:10px; border-radius:8px; border:1px solid #fde68a}
    .tips{background:#eef2ff; padding:10px; border-radius:8px}
    .partners{background:#f1f5f9; padding:10px; border-radius:8px; margin-top:10px; border-left:4px solid #6366f1}
    table{width:100%; border-collapse:collapse; margin-top:8px}
    th, td{padding:8px; text-align:left; border-bottom:1px solid #eef2ff}
    footer{color:#94a3b8; font-size:13px; margin-top:20px}

    /* Novo estilo para seletor de tokens */
    .token-selector {margin:20px 0; padding:15px; background:#f8fafc; border-radius:8px; border:1px solid #e2e8f0}
    .token-selector select, .token-selector button {padding:8px 12px; margin:5px; border-radius:4px; border:1px solid #cbd5e1}
    .token-selector button {background:#3b82f6; color:white; border:none; cursor:pointer}
    .token-selector button:hover {background:#2563eb}
    .current-token {background:#dcfce7; padding:8px; border-radius:4px; margin-top:10px; font-family:monospace; word-break:break-all}
    .api-url {background:#1e293b; color:#f1f5f9; padding:10px; border-radius:6px; margin:10px 0; font-family:monospace; word-break:break-all}
    
    /* Estilos para demonstra√ß√£o de autentica√ß√£o */
    .auth-demo {margin:20px 0; padding:15px; background:#f0f9ff; border-radius:8px; border:1px solid #bae6fd}
    .auth-btn {padding:10px 18px; border-radius:8px; border:none; cursor:pointer; font-size:16px; margin:5px}
    .auth-login {background:#007bff; color:white}
    .auth-load {background:#28a745; color:white; display:none}
    .auth-logout {background:#ff4747; color:white; display:none}
  </style>
</head>
<body>
  <div class="container">
    <h1>Documenta√ß√£o da API CodeHUB</h1>
    <p class="note"><strong>Vers√£o:</strong> 2.4 (Firebase + CodeFox + Editor Copiloto + API Clima + IA CodeHUB + Sistema de Autentica√ß√£o)</p>

    <!-- NOVO SELETOR DE TOKENS -->
    <div class="token-selector">
      <h3>üîë Seletor de Tokens</h3>
      <p>Selecione um token salvo ou use o exemplo:</p>

      <select id="tokenSelect">
        <option value="WIWMgTST2LIG4z1sp4Mi">Token de Exemplo (n√£o funcional)</option>
      </select>

      <button onclick="useSelectedToken()">Usar Token Selecionado</button>

      <div id="currentTokenDisplay" class="current-token" style="display:none">
        <strong>Token Atual:</strong> <span id="currentTokenValue"></span>
      </div>

      <div id="apiUrlDisplay" style="display:none; margin-top:15px;">
        <strong>URL da API com seu token:</strong>
        <div class="api-url" id="apiUrlValue"></div>
        <button onclick="copyApiUrl()" style="margin-top:8px; padding:6px 12px; background:#10b981; color:white; border:none; border-radius:4px; cursor:pointer;">
          üìã Copiar URL
        </button>
      </div>
    </div>

    <!-- NOVA SE√á√ÉO: SISTEMA DE AUTENTICA√á√ÉO E PROJETOS -->
    <div class="auth-demo">
      <h3>üîê Novo: Sistema de Autentica√ß√£o e Visualiza√ß√£o de Projetos</h3>
      <p>Exemplo completo de sistema de login e visualiza√ß√£o de projetos:</p>
      
      <div style="padding:10px; background:white; border-radius:6px; margin:10px 0;">
        <h4 style="margin-top:0;">Teste a Autentica√ß√£o:</h4>
        <button id="demoLoginBtn" class="auth-btn auth-login">üîµ Fazer Login</button>
        <button id="demoLoadBtn" class="auth-btn auth-load">üìÅ Carregar Meus Projetos</button>
        <button id="demoLogoutBtn" class="auth-btn auth-logout">üî¥ Sair</button>
        <div id="demoUserInfo" style="margin-top:10px; display:none;">
          <strong>üë§ Usu√°rio:</strong> <span id="demoUserName"></span>
        </div>
        <div id="demoProjects" style="margin-top:15px;"></div>
      </div>
      
      <p class="note" style="margin-top:10px;">
        <strong>üí° Funcionalidades inclu√≠das:</strong> Login autom√°tico, persist√™ncia de sess√£o, busca de projetos, 
        visualiza√ß√£o de arquivos (texto, imagens, v√≠deos, HTML, YouTube), e logout.
      </p>
    </div>

    <h2>Vis√£o Geral</h2>
    <p>A API CodeHUB integra projetos de c√≥digo hospedados no Firebase com assistentes inteligentes. Agora conta com tr√™s recursos principais:</p>
    <div class="partners">
      <strong>üëæ CodeFox:</strong> Nossa mascote e intelig√™ncia artificial avan√ßada. Ajuda a gerar, corrigir e melhorar c√≥digos, al√©m de interagir com usu√°rios de forma divertida e eficiente.<br><br>
      <strong>üõ† Editor Copiloto:</strong> Um assistente que trabalha lado a lado com voc√™ no editor, sugerindo melhorias, corrigindo erros e automatizando tarefas repetitivas.<br><br>
      <strong>üå¶Ô∏è API Clima:</strong> Nova API para monitoramento de condi√ß√µes clim√°ticas em tempo real com mapa interativo e relat√≥rios de alagamento.<br><br>
      <strong>üîê Sistema de Autentica√ß√£o:</strong> Novo sistema de login para usu√°rios acessarem seus projetos de qualquer site.<br><br>
      <em>Todos s√£o parceiros e podem trabalhar juntos para tornar a experi√™ncia de desenvolvimento mais √°gil e inteligente.</em>
    </div>

    <h2>O que voc√™ pode fazer com eles?</h2>
    <ul>
      <li><strong>CodeFox:</strong> Gera√ß√£o de c√≥digo, explica√ß√µes t√©cnicas, integra√ß√£o com API, cria√ß√£o de snippets inteligentes.</li>
      <li><strong>Editor Copiloto:</strong> Autocompletar inteligente, sugest√µes de refatora√ß√£o, integra√ß√£o com seu editor de c√≥digo online ou local.</li>
      <li><strong>API Clima:</strong> Monitoramento em tempo real, mapas interativos, relat√≥rios de risco de alagamento, localiza√ß√£o geogr√°fica.</li>
      <li><strong>Sistema de Autentica√ß√£o:</strong> Login √∫nico, visualiza√ß√£o de projetos, gerenciamento de arquivos, sess√£o persistente.</li>
    </ul>

    <h2>Configura√ß√£o Inicial</h2>
    <p>Inclua os scripts da API e ative a IA em sua p√°gina:</p>
    <pre><code>&lt;script src="https://alexandre7888.github.io/CodeHUB/API/api2.js"&gt;&lt;/script&gt;
&lt;script src="https://alexandre7888.github.io/CodeHUB/API/userKeyAPI.js"&gt;&lt;/script&gt;
&lt;script src="https://alexandre7888.github.io/CodeHUB/API/ia.js"&gt;&lt;/script&gt;
&lt;script src="https://alexandre7888.github.io/CodeHUB/API/clima.js"&gt;&lt;/script&gt;</code></pre>

    <h2>Novo: Sistema Completo de Autentica√ß√£o</h2>
    <p>Implemente um sistema de login e visualiza√ß√£o de projetos com este exemplo:</p>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
  &lt;title&gt;CodeHub ‚Äî Meus Projetos&lt;/title&gt;
  &lt;style&gt;
    body {
      margin: 0;
      font-family: Arial;
      background: #eef2f9;
    }
    header {
      padding: 20px;
      background: white;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    .btn {
      padding: 10px 18px;
      border-radius: 10px;
      border: 0;
      cursor: pointer;
      font-size: 16px;
      margin-right: 10px;
    }
    .login { background: #1777ff; color: white; }
    .load { background: #28a745; color: white; display: none; }
    .logout { background: #ff4b4b; color: white; display: none; }
    .projetoCard {
      background: white;
      padding: 15px;
      margin-bottom: 12px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      cursor: pointer;
    }
    .arquivoItem {
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 12px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;header&gt;
  &lt;h2&gt;CodeHub ‚Äî Meus Projetos&lt;/h2&gt;
  &lt;div id="nome"&gt;&lt;/div&gt;

  &lt;button class="btn login" id="loginBtn"&gt;üîµ Login&lt;/button&gt;
  &lt;button class="btn load" id="loadBtn"&gt;üìÅ Carregar Projetos&lt;/button&gt;
  &lt;button class="btn logout" id="logoutBtn"&gt;üî¥ Sair&lt;/button&gt;
&lt;/header&gt;

&lt;div style="padding:20px;"&gt;
  &lt;div id="status"&gt;Fa√ßa login para ver seus projetos.&lt;/div&gt;
  &lt;div id="lista"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- APIs Necess√°rias --&gt;
&lt;script src="https://alexandre7888.github.io/CodeHUB/API/userKeyAPI.js"&gt;&lt;/script&gt;
&lt;script src="https://alexandre7888.github.io/CodeHUB/API/api2.js"&gt;&lt;/script&gt;

&lt;script&gt;
/* ========== FUN√á√ÉO: RENDERIZAR PROJETOS ========== */
function renderProjetos(res) {
  const lista = document.getElementById("lista");
  const statusTxt = document.getElementById("status");
  
  lista.innerHTML = "";
  
  if (!res.sucesso) {
    statusTxt.textContent = "Erro: " + (res.erro || "Desconhecido");
    return;
  }
  
  const projetos = res.projetos || {};
  const ids = Object.keys(projetos);
  
  statusTxt.textContent = "Projetos encontrados: " + ids.length;
  
  ids.forEach(pid => {
    const p = projetos[pid];
    const card = document.createElement("div");
    card.className = "projetoCard";
    card.textContent = "üìÅ " + p.name;
    
    card.onclick = () => abrirProjeto(pid, p);
    lista.appendChild(card);
  });
}

/* ========== FUN√á√ÉO: ABRIR PROJETO ========== */
function abrirProjeto(pid, p) {
  const lista = document.getElementById("lista");
  const statusTxt = document.getElementById("status");
  
  lista.innerHTML = "";
  statusTxt.textContent = "Arquivos do projeto: " + p.name;
  
  const arquivos = p.files || {};
  const nomes = Object.keys(arquivos);
  
  nomes.forEach(nome => {
    const arq = arquivos[nome] || {};
    const link = arq.link || "";
    const content = arq.content || "";
    
    const item = document.createElement("div");
    item.className = "arquivoItem";
    item.innerHTML = "&lt;h3&gt;" + nome + "&lt;/h3&gt;";
    
    if (!link && content) {
      item.innerHTML += "&lt;pre&gt;" + content + "&lt;/pre&gt;";
    } else if (link.includes("youtu")) {
      // Processar YouTube
      let videoId = "";
      try {
        if (link.includes("watch")) {
          videoId = new URL(link).searchParams.get("v");
        } else {
          videoId = link.split("/").pop().split("?")[0];
        }
      } catch {}
      
      if (videoId) {
        item.innerHTML += `
        &lt;iframe 
          style="width:100%; height:260px; border-radius:6px;"
          src="https://www.youtube.com/embed/${videoId}"
          allowfullscreen&gt;
        &lt;/iframe&gt;`;
      }
    } else if (link.match(/\\.(jpg|jpeg|png|gif|webp)$/i)) {
      item.innerHTML += '&lt;img src="' + link + '" style="max-width:100%; border-radius:6px;"&gt;';
    } else if (link.match(/\\.(mp4|webm|mov)$/i)) {
      item.innerHTML += '&lt;video controls src="' + link + '" style="max-width:100%; border-radius:6px;"&gt;&lt;/video&gt;';
    } else if (link.endsWith(".html") || link.endsWith(".htm")) {
      item.innerHTML += '&lt;iframe src="' + link + '" style="width:100%; height:400px; border-radius:6px;"&gt;&lt;/iframe&gt;';
    } else if (link) {
      item.innerHTML += '&lt;p&gt;&lt;small&gt;Link: ' + link + '&lt;/small&gt;&lt;/p&gt;';
    }
    
    lista.appendChild(item);
  });
}

/* ========== INICIALIZA√á√ÉO DA INTERFACE ========== */
function initUI() {
  const name = localStorage.getItem("userName");
  if (name) {
    document.getElementById("nome").textContent = "Bem-vindo, " + name + "!";
    document.getElementById("loginBtn").style.display = "none";
    document.getElementById("logoutBtn").style.display = "inline-block";
    document.getElementById("loadBtn").style.display = "inline-block";
  }
}

/* ========== EVENTOS DOS BOT√ïES ========== */
window.onload = function() {
  initUI();
  
  // Bot√£o de Login
  document.getElementById("loginBtn").onclick = function() {
    // IMPORTANTE: Substitua SEU_TOKEN pelo token do seu aplicativo
    window.location.href = 
      "https://alexandre7888.github.io/CodeHUB/API/continuar-conta?token=SEU_TOKEN_AQUI";
  };
  
  // Bot√£o de Logout
  document.getElementById("logoutBtn").onclick = function() {
    localStorage.clear();
    location.reload();
  };
  
  // Bot√£o para Carregar Projetos
  document.getElementById("loadBtn").onclick = async function() {
    document.getElementById("status").textContent = "Carregando projetos...";
    if (typeof window.api2_buscarProjetos === "function") {
      const resultado = await window.api2_buscarProjetos();
      renderProjetos(resultado);
    } else {
      document.getElementById("status").textContent = "Erro: API n√£o carregada";
    }
  };
  
  // Valida√ß√£o autom√°tica do login
  if (typeof validarLogin === "function") {
    validarLogin(function(res) {
      if (res.success) {
        localStorage.setItem("userName", res.userName);
        localStorage.setItem("userKey", res.userKey);
        initUI();
        // Carrega projetos automaticamente ap√≥s login
        setTimeout(function() {
          document.getElementById("loadBtn").click();
        }, 500);
      }
    });
  }
};
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h2>Nova Fun√ß√£o: api2_buscarProjetos()</h2>
    <p>Esta fun√ß√£o busca todos os projetos do usu√°rio autenticado:</p>
    <pre><code>// Uso da fun√ß√£o
const resultado = await window.api2_buscarProjetos();

// Estrutura do retorno
{
  sucesso: true/false,
  projetos: {
    "id-do-projeto": {
      name: "Nome do Projeto",
      files: {
        "arquivo.txt": {
          link: "https://...",
          content: "conte√∫do do arquivo"
        }
      }
    }
  },
  erro: "mensagem de erro (se houver)"
}</code></pre>

    <h2>Nova Fun√ß√£o: validarLogin(callback)</h2>
    <p>Esta fun√ß√£o valida o login ap√≥s o redirecionamento:</p>
    <pre><code>// Uso da fun√ß√£o
validarLogin(function(resposta) {
  if (resposta.success) {
    // Login bem-sucedido
    console.log("Usu√°rio:", resposta.userName);
    console.log("Chave:", resposta.userKey);
    
    // Salvar no localStorage para sess√£o persistente
    localStorage.setItem("userName", resposta.userName);
    localStorage.setItem("userKey", resposta.userKey);
    
    // Atualizar interface
    document.getElementById("nome").textContent = "Bem-vindo, " + resposta.userName + "!";
  }
});</code></pre>

    <h2>Como habilitar a IA CodeHUB no seu site?</h2>
    <p>Adicione este exemplo simples ao seu HTML:</p>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Meu Site com IA&lt;/title&gt;
  &lt;!-- IA CODEHUB --&gt;
  &lt;script src="https://code.codehub2025.ct.ws/API/ia.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Meu Site&lt;/h1&gt;
  &lt;p&gt;O bot√£o da IA aparecer√° automaticamente no canto inferior direito!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h2>Como habilitar a API Clima no seu site?</h2>
    <p>Adicione este exemplo simples ao seu HTML:</p>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Monitor de Clima&lt;/title&gt;
  &lt;style&gt;
    * { box-sizing: border-box; font-family: system-ui, sans-serif; }
    body { margin: 0; padding: 8px; background: #f5f5f3; color: #222; overflow: hidden; }
    .wrapper { height: 100vh; display: flex; flex-direction: column; gap: 6px; }
    .header { display: flex; align-items: center; justify-content: space-between; gap: 8px; padding: 6px 8px; border-radius: 10px; background: #fff; box-shadow: 0 1px 6px rgba(0,0,0,0.05); }
    .badge { font-size: 11px; padding: 3px 7px; border-radius: 999px; background: #eef3ef; color: #314334; }
    #map { width: 100%; height: 42vh; border-radius: 10px; background: #d0d7db; box-shadow: 0 1px 6px rgba(0,0,0,0.05); }
    .list { flex: 1; overflow-y: auto; padding: 2px 1px 4px; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div class="wrapper"&gt;
    &lt;div class="header"&gt;
      &lt;div&gt;üåßÔ∏è Monitor de Clima&lt;/div&gt;
      &lt;div class="badge"&gt;&lt;span id="badgeText"&gt;Carregando...&lt;/span&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="map"&gt;&lt;/div&gt;
    &lt;div class="list" id="list"&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- API CLIMA COM TOKEN --&gt;
  &lt;script src="https://code.codehub2025.ct.ws/API/clima.js?token=SEU_TOKEN_AQUI"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h2>Exemplo Completo (Todas as APIs Juntas)</h2>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Dashboard Completo CodeHUB&lt;/title&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/api2.js"&gt;&lt;/script&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/userKeyAPI.js"&gt;&lt;/script&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/ia.js"&gt;&lt;/script&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/clima.js?token=SEU_TOKEN_AQUI"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;üè† Meu Dashboard CodeHUB&lt;/h1&gt;
  
  &lt;!-- Sistema de Autentica√ß√£o --&gt;
  &lt;div id="authSection" style="padding:20px; background:#f0f9ff; border-radius:10px;"&gt;
    &lt;h3&gt;üîê Autentica√ß√£o&lt;/h3&gt;
    &lt;button onclick="login()"&gt;Fazer Login&lt;/button&gt;
    &lt;button onclick="logout()" style="display:none; background:#ff4747;"&gt;Sair&lt;/button&gt;
    &lt;div id="userInfo" style="display:none;"&gt;
      Bem-vindo, &lt;span id="userName"&gt;&lt;/span&gt;!
    &lt;/div&gt;
  &lt;/div&gt;
  
  &lt;!-- Meus Projetos --&gt;
  &lt;div id="projectsSection" style="padding:20px; background:#f0f9ff; border-radius:10px; margin-top:20px;"&gt;
    &lt;h3&gt;üìÅ Meus Projetos&lt;/h3&gt;
    &lt;button onclick="carregarProjetos()"&gt;Carregar Projetos&lt;/button&gt;
    &lt;div id="projectsList"&gt;&lt;/div&gt;
  &lt;/div&gt;
  
  &lt;!-- API Clima --&gt;
  &lt;div style="padding:20px; background:#f0f9ff; border-radius:10px; margin-top:20px;"&gt;
    &lt;h3&gt;üå¶Ô∏è Monitor de Clima&lt;/h3&gt;
    &lt;div id="map" style="height:300px; background:#d0d7db; border-radius:10px;"&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;script&gt;
  // Fun√ß√µes de autentica√ß√£o
  function login() {
    window.location.href = "https://code.codehub2025.ct.ws/API/continuar-conta?token=SEU_TOKEN_AQUI";
  }
  
  function logout() {
    localStorage.clear();
    location.reload();
  }
  
  async function carregarProjetos() {
    const resultado = await window.api2_buscarProjetos();
    if (resultado.sucesso) {
      // Processar e exibir projetos
      console.log("Projetos carregados:", resultado.projetos);
    }
  }
  
  // Inicializa√ß√£o
  window.onload = function() {
    if (localStorage.getItem("userName")) {
      document.getElementById("userName").textContent = localStorage.getItem("userName");
      document.getElementById("userInfo").style.display = "block";
    }
    
    // Valida√ß√£o autom√°tica
    if (typeof validarLogin === "function") {
      validarLogin(function(res) {
        if (res.success) {
          localStorage.setItem("userName", res.userName);
          location.reload();
        }
      });
    }
  };
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <div class="note">
      <strong>‚ú® Novidades na Vers√£o 2.4:</strong>
      <ul>
        <li>Sistema completo de autentica√ß√£o de usu√°rios</li>
        <li>Visualiza√ß√£o de projetos com suporte a m√∫ltiplos tipos de arquivos</li>
        <li>Fun√ß√£o <code>api2_buscarProjetos()</code> para buscar projetos</li>
        <li>Fun√ß√£o <code>validarLogin()</code> para autentica√ß√£o autom√°tica</li>
        <li>Sess√£o persistente com localStorage</li>
        <li>Exemplos completos e prontos para uso</li>
      </ul>
    </div>

    <footer>
      Documenta√ß√£o atualizada em: 2025 | Todos os direitos reservados | Vers√£o da API: 2.4 | IA CodeHUB
    </footer>
  </div>

  <!-- INCLUIR A IA CODEHUB NA DOCUMENTA√á√ÉO -->
  <script src="https://code.codehub2025.ct.ws/API/ia.js"></script>

  <script>
    // Carregar tokens salvos do localStorage
    function loadSavedTokens() {
      const tokenSelect = document.getElementById('tokenSelect');

      // Limpar op√ß√µes exceto a primeira (exemplo)
      while (tokenSelect.options.length > 1) {
        tokenSelect.remove(1);
      }

      // Buscar tokens do localStorage
      try {
        const savedTokens = JSON.parse(localStorage.getItem('userTokens') || '[]');

        savedTokens.forEach(token => {
          const option = document.createElement('option');
          option.value = token.value;
          option.textContent = `${token.appName} - ${token.value.substring(0, 10)}...`;
          tokenSelect.appendChild(option);
        });

        // Se n√£o houver tokens salvos, mostrar mensagem
        if (savedTokens.length === 0) {
          const option = document.createElement('option');
          option.value = '';
          option.textContent = 'Nenhum token salvo encontrado';
          option.disabled = true;
          tokenSelect.appendChild(option);
        }
      } catch (error) {
        console.error('Erro ao carregar tokens:', error);
      }
    }

    // Usar token selecionado
    function useSelectedToken() {
      const tokenSelect = document.getElementById('tokenSelect');
      const selectedToken = tokenSelect.value;

      if (selectedToken && selectedToken !== 'WIWMgTST2LIG4z1sp4Mi') {
        document.getElementById('currentTokenValue').textContent = selectedToken;
        document.getElementById('currentTokenDisplay').style.display = 'block';

        // Mostrar URL da API com token
        const apiUrl = `https://code.codehub2025.ct.ws/API/clima.js?token=${selectedToken}`;
        document.getElementById('apiUrlValue').textContent = apiUrl;
        document.getElementById('apiUrlDisplay').style.display = 'block';

        // Atualizar exemplos de c√≥digo com o token real
        updateCodeExamples(selectedToken);

        alert('Token selecionado! Agora voc√™ pode usar este token nos exemplos de c√≥digo.');
      } else {
        alert('Selecione um token v√°lido (n√£o o exemplo).');
      }
    }

    // Copiar URL da API
    function copyApiUrl() {
      const apiUrl = document.getElementById('apiUrlValue').textContent;
      navigator.clipboard.writeText(apiUrl).then(() => {
        alert('URL copiada para a √°rea de transfer√™ncia!');
      }).catch(err => {
        alert('Erro ao copiar URL: ' + err);
      });
    }

    // Atualizar exemplos de c√≥digo com token real
    function updateCodeExamples(token) {
      const codeBlocks = document.querySelectorAll('pre code');
      codeBlocks.forEach(block => {
        block.textContent = block.textContent.replace(
          /token=SEU_TOKEN_AQUI/g, 
          `token=${token}`
        ).replace(
          /token=SEU_TOKEN/g,
          `token=${token}`
        );
      });
    }

    // ======================================================
    // DEMONSTRA√á√ÉO DO SISTEMA DE AUTENTICA√á√ÉO
    // ======================================================
    
    // Carregar as APIs necess√°rias para a demonstra√ß√£o
    const apiScript = document.createElement('script');
    apiScript.src = 'https://alexandre7888.github.io/CodeHUB/API/api2.js';
    document.head.appendChild(apiScript);
    
    const authScript = document.createElement('script');
    authScript.src = 'https://alexandre7888.github.io/CodeHUB/userKeyAPI.js';
    document.head.appendChild(authScript);
    
    // Configurar demonstra√ß√£o interativa
    document.addEventListener('DOMContentLoaded', function() {
      loadSavedTokens();
      
      const demoLoginBtn = document.getElementById('demoLoginBtn');
      const demoLogoutBtn = document.getElementById('demoLogoutBtn');
      const demoLoadBtn = document.getElementById('demoLoadBtn');
      const demoUserInfo = document.getElementById('demoUserInfo');
      const demoUserName = document.getElementById('demoUserName');
      const demoProjects = document.getElementById('demoProjects');
      
      // Verificar se j√° est√° logado (demonstra√ß√£o)
      const demoUser = localStorage.getItem('demoCodeHubUser');
      if (demoUser) {
        demoUserName.textContent = demoUser;
        demoUserInfo.style.display = 'block';
        demoLoginBtn.style.display = 'none';
        demoLogoutBtn.style.display = 'inline-block';
        demoLoadBtn.style.display = 'inline-block';
      }
      
      // Bot√£o de Login (Demonstra√ß√£o)
      demoLoginBtn.addEventListener('click', function() {
        const tokenSelect = document.getElementById('tokenSelect');
        const selectedToken = tokenSelect.value;
        
        if (selectedToken && selectedToken !== 'WIWMgTST2LIG4z1sp4Mi') {
          // Simula√ß√£o de login para demonstra√ß√£o
          const userName = 'Usuario_' + Math.floor(Math.random() * 1000);
          localStorage.setItem('demoCodeHubUser', userName);
          
          demoUserName.textContent = userName;
          demoUserInfo.style.display = 'block';
          demoLoginBtn.style.display = 'none';
          demoLogoutBtn.style.display = 'inline-block';
          demoLoadBtn.style.display = 'inline-block';
          
          demoProjects.innerHTML = '<p style="color:green;">‚úÖ Login realizado com sucesso!</p>' +
                                  '<p><small>Token usado: ' + selectedToken.substring(0, 20) + '...</small></p>';
        } else {
          alert('Selecione um token v√°lido primeiro!');
        }
      });
      
      // Bot√£o de Logout (Demonstra√ß√£o)
      demoLogoutBtn.addEventListener('click', function() {
        localStorage.removeItem('demoCodeHubUser');
        demoUserInfo.style.display = 'none';
        demoLoginBtn.style.display = 'inline-block';
        demoLogoutBtn.style.display = 'none';
        demoLoadBtn.style.display = 'none';
        demoProjects.innerHTML = '';
      });
      
      // Bot√£o para Carregar Projetos (Demonstra√ß√£o)
      demoLoadBtn.addEventListener('click', async function() {
        demoProjects.innerHTML = '<p>Carregando projetos de demonstra√ß√£o...</p>';
        
        // Simula√ß√£o de projetos para demonstra√ß√£o
        setTimeout(function() {
          demoProjects.innerHTML = `
            <div style="background:white; padding:15px; border-radius:8px; margin-top:10px;">
              <h4>üìÅ Projeto de Exemplo 1</h4>
              <p><small>Arquivos: 3 | √öltima atualiza√ß√£o: Hoje</small></p>
            </div>
            <div style="background:white; padding:15px; border-radius:8px; margin-top:10px;">
              <h4>üìÅ Projeto de Exemplo 2</h4>
              <p><small>Arquivos: 5 | √öltima atualiza√ß√£o: Ontem</small></p>
            </div>
            <p style="margin-top:10px;"><small><em>Em um ambiente real, os projetos do usu√°rio seriam carregados aqui.</em></small></p>
          `;
        }, 1000);
      });
      
      // Valida√ß√£o autom√°tica para demonstra√ß√£o
      if (typeof validarLogin === 'function') {
        setTimeout(function() {
          validarLogin(function(res) {
            if (res && res.success) {
              // Esta parte funcionaria em um ambiente real
              console.log('Login validado:', res);
            }
          });
        }, 500);
      }
    });
  </script>
</body>
</html><!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Documenta√ß√£o da API CodeHUB</title>
  <style>
    :root{font-family: Inter,ui-sans-serif,system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:#0f172a}
    body{margin:0; padding:32px; background:#f8fafc}
    .container{max-width:900px; margin:0 auto; background:#fff; padding:28px; border-radius:12px; box-shadow:0 6px 24px rgba(15,23,42,0.06)}
    h1{font-size:26px; margin:0 0 6px}
    h2{font-size:18px; margin-top:18px}
    p{line-height:1.5}
    pre{background:#0f172a; color:#f8fafc; padding:12px; border-radius:8px; overflow:auto}
    code{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace}
    ul{margin-left:18px}
    .note{background:#fffbeb; padding:10px; border-radius:8px; border:1px solid #fde68a}
    .tips{background:#eef2ff; padding:10px; border-radius:8px}
    .partners{background:#f1f5f9; padding:10px; border-radius:8px; margin-top:10px; border-left:4px solid #6366f1}
    table{width:100%; border-collapse:collapse; margin-top:8px}
    th, td{padding:8px; text-align:left; border-bottom:1px solid #eef2ff}
    footer{color:#94a3b8; font-size:13px; margin-top:20px}

    /* Novo estilo para seletor de tokens */
    .token-selector {margin:20px 0; padding:15px; background:#f8fafc; border-radius:8px; border:1px solid #e2e8f0}
    .token-selector select, .token-selector button {padding:8px 12px; margin:5px; border-radius:4px; border:1px solid #cbd5e1}
    .token-selector button {background:#3b82f6; color:white; border:none; cursor:pointer}
    .token-selector button:hover {background:#2563eb}
    .current-token {background:#dcfce7; padding:8px; border-radius:4px; margin-top:10px; font-family:monospace; word-break:break-all}
    .api-url {background:#1e293b; color:#f1f5f9; padding:10px; border-radius:6px; margin:10px 0; font-family:monospace; word-break:break-all}
    
    /* Estilos para demonstra√ß√£o de autentica√ß√£o */
    .auth-demo {margin:20px 0; padding:15px; background:#f0f9ff; border-radius:8px; border:1px solid #bae6fd}
    .auth-btn {padding:10px 18px; border-radius:8px; border:none; cursor:pointer; font-size:16px; margin:5px}
    .auth-login {background:#007bff; color:white}
    .auth-load {background:#28a745; color:white; display:none}
    .auth-logout {background:#ff4747; color:white; display:none}
  </style>
</head>
<body>
  <div class="container">
    <h1>Documenta√ß√£o da API CodeHUB</h1>
    <p class="note"><strong>Vers√£o:</strong> 2.4 (Firebase + CodeFox + Editor Copiloto + API Clima + IA CodeHUB + Sistema de Autentica√ß√£o)</p>

    <!-- NOVO SELETOR DE TOKENS -->
    <div class="token-selector">
      <h3>üîë Seletor de Tokens</h3>
      <p>Selecione um token salvo ou use o exemplo:</p>

      <select id="tokenSelect">
        <option value="WIWMgTST2LIG4z1sp4Mi">Token de Exemplo (n√£o funcional)</option>
      </select>

      <button onclick="useSelectedToken()">Usar Token Selecionado</button>

      <div id="currentTokenDisplay" class="current-token" style="display:none">
        <strong>Token Atual:</strong> <span id="currentTokenValue"></span>
      </div>

      <div id="apiUrlDisplay" style="display:none; margin-top:15px;">
        <strong>URL da API com seu token:</strong>
        <div class="api-url" id="apiUrlValue"></div>
        <button onclick="copyApiUrl()" style="margin-top:8px; padding:6px 12px; background:#10b981; color:white; border:none; border-radius:4px; cursor:pointer;">
          üìã Copiar URL
        </button>
      </div>
    </div>

    <!-- NOVA SE√á√ÉO: SISTEMA DE AUTENTICA√á√ÉO E PROJETOS -->
    <div class="auth-demo">
      <h3>üîê Novo: Sistema de Autentica√ß√£o e Visualiza√ß√£o de Projetos</h3>
      <p>Exemplo completo de sistema de login e visualiza√ß√£o de projetos:</p>
      
      <div style="padding:10px; background:white; border-radius:6px; margin:10px 0;">
        <h4 style="margin-top:0;">Teste a Autentica√ß√£o:</h4>
        <button id="demoLoginBtn" class="auth-btn auth-login">üîµ Fazer Login</button>
        <button id="demoLoadBtn" class="auth-btn auth-load">üìÅ Carregar Meus Projetos</button>
        <button id="demoLogoutBtn" class="auth-btn auth-logout">üî¥ Sair</button>
        <div id="demoUserInfo" style="margin-top:10px; display:none;">
          <strong>üë§ Usu√°rio:</strong> <span id="demoUserName"></span>
        </div>
        <div id="demoProjects" style="margin-top:15px;"></div>
      </div>
      
      <p class="note" style="margin-top:10px;">
        <strong>üí° Funcionalidades inclu√≠das:</strong> Login autom√°tico, persist√™ncia de sess√£o, busca de projetos, 
        visualiza√ß√£o de arquivos (texto, imagens, v√≠deos, HTML, YouTube), e logout.
      </p>
    </div>

    <h2>Vis√£o Geral</h2>
    <p>A API CodeHUB integra projetos de c√≥digo hospedados no Firebase com assistentes inteligentes. Agora conta com tr√™s recursos principais:</p>
    <div class="partners">
      <strong>üëæ CodeFox:</strong> Nossa mascote e intelig√™ncia artificial avan√ßada. Ajuda a gerar, corrigir e melhorar c√≥digos, al√©m de interagir com usu√°rios de forma divertida e eficiente.<br><br>
      <strong>üõ† Editor Copiloto:</strong> Um assistente que trabalha lado a lado com voc√™ no editor, sugerindo melhorias, corrigindo erros e automatizando tarefas repetitivas.<br><br>
      <strong>üå¶Ô∏è API Clima:</strong> Nova API para monitoramento de condi√ß√µes clim√°ticas em tempo real com mapa interativo e relat√≥rios de alagamento.<br><br>
      <strong>üîê Sistema de Autentica√ß√£o:</strong> Novo sistema de login para usu√°rios acessarem seus projetos de qualquer site.<br><br>
      <em>Todos s√£o parceiros e podem trabalhar juntos para tornar a experi√™ncia de desenvolvimento mais √°gil e inteligente.</em>
    </div>

    <h2>O que voc√™ pode fazer com eles?</h2>
    <ul>
      <li><strong>CodeFox:</strong> Gera√ß√£o de c√≥digo, explica√ß√µes t√©cnicas, integra√ß√£o com API, cria√ß√£o de snippets inteligentes.</li>
      <li><strong>Editor Copiloto:</strong> Autocompletar inteligente, sugest√µes de refatora√ß√£o, integra√ß√£o com seu editor de c√≥digo online ou local.</li>
      <li><strong>API Clima:</strong> Monitoramento em tempo real, mapas interativos, relat√≥rios de risco de alagamento, localiza√ß√£o geogr√°fica.</li>
      <li><strong>Sistema de Autentica√ß√£o:</strong> Login √∫nico, visualiza√ß√£o de projetos, gerenciamento de arquivos, sess√£o persistente.</li>
    </ul>

    <h2>Configura√ß√£o Inicial</h2>
    <p>Inclua os scripts da API e ative a IA em sua p√°gina:</p>
    <pre><code>&lt;script src="https://alexandre7888.github.io/CodeHUB/API/api2.js"&gt;&lt;/script&gt;
&lt;script src="https://alexandre7888.github.io/CodeHUB/API/userKeyAPI.js"&gt;&lt;/script&gt;
&lt;script src="https://alexandre7888.github.io/CodeHUB/API/ia.js"&gt;&lt;/script&gt;
&lt;script src="https://alexandre7888.github.io/CodeHUB/API/clima.js"&gt;&lt;/script&gt;</code></pre>

    <h2>Novo: Sistema Completo de Autentica√ß√£o</h2>
    <p>Implemente um sistema de login e visualiza√ß√£o de projetos com este exemplo:</p>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
  &lt;title&gt;CodeHub ‚Äî Meus Projetos&lt;/title&gt;
  &lt;style&gt;
    body {
      margin: 0;
      font-family: Arial;
      background: #eef2f9;
    }
    header {
      padding: 20px;
      background: white;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    .btn {
      padding: 10px 18px;
      border-radius: 10px;
      border: 0;
      cursor: pointer;
      font-size: 16px;
      margin-right: 10px;
    }
    .login { background: #1777ff; color: white; }
    .load { background: #28a745; color: white; display: none; }
    .logout { background: #ff4b4b; color: white; display: none; }
    .projetoCard {
      background: white;
      padding: 15px;
      margin-bottom: 12px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      cursor: pointer;
    }
    .arquivoItem {
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 12px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;header&gt;
  &lt;h2&gt;CodeHub ‚Äî Meus Projetos&lt;/h2&gt;
  &lt;div id="nome"&gt;&lt;/div&gt;

  &lt;button class="btn login" id="loginBtn"&gt;üîµ Login&lt;/button&gt;
  &lt;button class="btn load" id="loadBtn"&gt;üìÅ Carregar Projetos&lt;/button&gt;
  &lt;button class="btn logout" id="logoutBtn"&gt;üî¥ Sair&lt;/button&gt;
&lt;/header&gt;

&lt;div style="padding:20px;"&gt;
  &lt;div id="status"&gt;Fa√ßa login para ver seus projetos.&lt;/div&gt;
  &lt;div id="lista"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- APIs Necess√°rias --&gt;
&lt;script src="https://alexandre7888.github.io/CodeHUB/API/userKeyAPI.js"&gt;&lt;/script&gt;
&lt;script src="https://alexandre7888.github.io/CodeHUB/API/api2.js"&gt;&lt;/script&gt;

&lt;script&gt;
/* ========== FUN√á√ÉO: RENDERIZAR PROJETOS ========== */
function renderProjetos(res) {
  const lista = document.getElementById("lista");
  const statusTxt = document.getElementById("status");
  
  lista.innerHTML = "";
  
  if (!res.sucesso) {
    statusTxt.textContent = "Erro: " + (res.erro || "Desconhecido");
    return;
  }
  
  const projetos = res.projetos || {};
  const ids = Object.keys(projetos);
  
  statusTxt.textContent = "Projetos encontrados: " + ids.length;
  
  ids.forEach(pid => {
    const p = projetos[pid];
    const card = document.createElement("div");
    card.className = "projetoCard";
    card.textContent = "üìÅ " + p.name;
    
    card.onclick = () => abrirProjeto(pid, p);
    lista.appendChild(card);
  });
}

/* ========== FUN√á√ÉO: ABRIR PROJETO ========== */
function abrirProjeto(pid, p) {
  const lista = document.getElementById("lista");
  const statusTxt = document.getElementById("status");
  
  lista.innerHTML = "";
  statusTxt.textContent = "Arquivos do projeto: " + p.name;
  
  const arquivos = p.files || {};
  const nomes = Object.keys(arquivos);
  
  nomes.forEach(nome => {
    const arq = arquivos[nome] || {};
    const link = arq.link || "";
    const content = arq.content || "";
    
    const item = document.createElement("div");
    item.className = "arquivoItem";
    item.innerHTML = "&lt;h3&gt;" + nome + "&lt;/h3&gt;";
    
    if (!link && content) {
      item.innerHTML += "&lt;pre&gt;" + content + "&lt;/pre&gt;";
    } else if (link.includes("youtu")) {
      // Processar YouTube
      let videoId = "";
      try {
        if (link.includes("watch")) {
          videoId = new URL(link).searchParams.get("v");
        } else {
          videoId = link.split("/").pop().split("?")[0];
        }
      } catch {}
      
      if (videoId) {
        item.innerHTML += `
        &lt;iframe 
          style="width:100%; height:260px; border-radius:6px;"
          src="https://www.youtube.com/embed/${videoId}"
          allowfullscreen&gt;
        &lt;/iframe&gt;`;
      }
    } else if (link.match(/\\.(jpg|jpeg|png|gif|webp)$/i)) {
      item.innerHTML += '&lt;img src="' + link + '" style="max-width:100%; border-radius:6px;"&gt;';
    } else if (link.match(/\\.(mp4|webm|mov)$/i)) {
      item.innerHTML += '&lt;video controls src="' + link + '" style="max-width:100%; border-radius:6px;"&gt;&lt;/video&gt;';
    } else if (link.endsWith(".html") || link.endsWith(".htm")) {
      item.innerHTML += '&lt;iframe src="' + link + '" style="width:100%; height:400px; border-radius:6px;"&gt;&lt;/iframe&gt;';
    } else if (link) {
      item.innerHTML += '&lt;p&gt;&lt;small&gt;Link: ' + link + '&lt;/small&gt;&lt;/p&gt;';
    }
    
    lista.appendChild(item);
  });
}

/* ========== INICIALIZA√á√ÉO DA INTERFACE ========== */
function initUI() {
  const name = localStorage.getItem("userName");
  if (name) {
    document.getElementById("nome").textContent = "Bem-vindo, " + name + "!";
    document.getElementById("loginBtn").style.display = "none";
    document.getElementById("logoutBtn").style.display = "inline-block";
    document.getElementById("loadBtn").style.display = "inline-block";
  }
}

/* ========== EVENTOS DOS BOT√ïES ========== */
window.onload = function() {
  initUI();
  
  // Bot√£o de Login
  document.getElementById("loginBtn").onclick = function() {
    // IMPORTANTE: Substitua SEU_TOKEN pelo token do seu aplicativo
    window.location.href = 
      "https://code.codehub2025.ct.ws/API/continuar-conta?token=SEU_TOKEN_AQUI";
  };
  
  // Bot√£o de Logout
  document.getElementById("logoutBtn").onclick = function() {
    localStorage.clear();
    location.reload();
  };
  
  // Bot√£o para Carregar Projetos
  document.getElementById("loadBtn").onclick = async function() {
    document.getElementById("status").textContent = "Carregando projetos...";
    if (typeof window.api2_buscarProjetos === "function") {
      const resultado = await window.api2_buscarProjetos();
      renderProjetos(resultado);
    } else {
      document.getElementById("status").textContent = "Erro: API n√£o carregada";
    }
  };
  
  // Valida√ß√£o autom√°tica do login
  if (typeof validarLogin === "function") {
    validarLogin(function(res) {
      if (res.success) {
        localStorage.setItem("userName", res.userName);
        localStorage.setItem("userKey", res.userKey);
        initUI();
        // Carrega projetos automaticamente ap√≥s login
        setTimeout(function() {
          document.getElementById("loadBtn").click();
        }, 500);
      }
    });
  }
};
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h2>Nova Fun√ß√£o: api2_buscarProjetos()</h2>
    <p>Esta fun√ß√£o busca todos os projetos do usu√°rio autenticado:</p>
    <pre><code>// Uso da fun√ß√£o
const resultado = await window.api2_buscarProjetos();

// Estrutura do retorno
{
  sucesso: true/false,
  projetos: {
    "id-do-projeto": {
      name: "Nome do Projeto",
      files: {
        "arquivo.txt": {
          link: "https://...",
          content: "conte√∫do do arquivo"
        }
      }
    }
  },
  erro: "mensagem de erro (se houver)"
}</code></pre>

    <h2>Nova Fun√ß√£o: validarLogin(callback)</h2>
    <p>Esta fun√ß√£o valida o login ap√≥s o redirecionamento:</p>
    <pre><code>// Uso da fun√ß√£o
validarLogin(function(resposta) {
  if (resposta.success) {
    // Login bem-sucedido
    console.log("Usu√°rio:", resposta.userName);
    console.log("Chave:", resposta.userKey);
    
    // Salvar no localStorage para sess√£o persistente
    localStorage.setItem("userName", resposta.userName);
    localStorage.setItem("userKey", resposta.userKey);
    
    // Atualizar interface
    document.getElementById("nome").textContent = "Bem-vindo, " + resposta.userName + "!";
  }
});</code></pre>

    <h2>Como habilitar a IA CodeHUB no seu site?</h2>
    <p>Adicione este exemplo simples ao seu HTML:</p>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Meu Site com IA&lt;/title&gt;
  &lt;!-- IA CODEHUB --&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/ia.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Meu Site&lt;/h1&gt;
  &lt;p&gt;O bot√£o da IA aparecer√° automaticamente no canto inferior direito!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h2>Como habilitar a API Clima no seu site?</h2>
    <p>Adicione este exemplo simples ao seu HTML:</p>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Monitor de Clima&lt;/title&gt;
  &lt;style&gt;
    * { box-sizing: border-box; font-family: system-ui, sans-serif; }
    body { margin: 0; padding: 8px; background: #f5f5f3; color: #222; overflow: hidden; }
    .wrapper { height: 100vh; display: flex; flex-direction: column; gap: 6px; }
    .header { display: flex; align-items: center; justify-content: space-between; gap: 8px; padding: 6px 8px; border-radius: 10px; background: #fff; box-shadow: 0 1px 6px rgba(0,0,0,0.05); }
    .badge { font-size: 11px; padding: 3px 7px; border-radius: 999px; background: #eef3ef; color: #314334; }
    #map { width: 100%; height: 42vh; border-radius: 10px; background: #d0d7db; box-shadow: 0 1px 6px rgba(0,0,0,0.05); }
    .list { flex: 1; overflow-y: auto; padding: 2px 1px 4px; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div class="wrapper"&gt;
    &lt;div class="header"&gt;
      &lt;div&gt;üåßÔ∏è Monitor de Clima&lt;/div&gt;
      &lt;div class="badge"&gt;&lt;span id="badgeText"&gt;Carregando...&lt;/span&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="map"&gt;&lt;/div&gt;
    &lt;div class="list" id="list"&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- API CLIMA COM TOKEN --&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/clima.js?token=SEU_TOKEN_AQUI"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h2>Exemplo Completo (Todas as APIs Juntas)</h2>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Dashboard Completo CodeHUB&lt;/title&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/api2.js"&gt;&lt;/script&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/userKeyAPI.js"&gt;&lt;/script&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/ia.js"&gt;&lt;/script&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/clima.js?token=SEU_TOKEN_AQUI"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;üè† Meu Dashboard CodeHUB&lt;/h1&gt;
  
  &lt;!-- Sistema de Autentica√ß√£o --&gt;
  &lt;div id="authSection" style="padding:20px; background:#f0f9ff; border-radius:10px;"&gt;
    &lt;h3&gt;üîê Autentica√ß√£o&lt;/h3&gt;
    &lt;button onclick="login()"&gt;Fazer Login&lt;/button&gt;
    &lt;button onclick="logout()" style="display:none; background:#ff4747;"&gt;Sair&lt;/button&gt;
    &lt;div id="userInfo" style="display:none;"&gt;
      Bem-vindo, &lt;span id="userName"&gt;&lt;/span&gt;!
    &lt;/div&gt;
  &lt;/div&gt;
  
  &lt;!-- Meus Projetos --&gt;
  &lt;div id="projectsSection" style="padding:20px; background:#f0f9ff; border-radius:10px; margin-top:20px;"&gt;
    &lt;h3&gt;üìÅ Meus Projetos&lt;/h3&gt;
    &lt;button onclick="carregarProjetos()"&gt;Carregar Projetos&lt;/button&gt;
    &lt;div id="projectsList"&gt;&lt;/div&gt;
  &lt;/div&gt;
  
  &lt;!-- API Clima --&gt;
  &lt;div style="padding:20px; background:#f0f9ff; border-radius:10px; margin-top:20px;"&gt;
    &lt;h3&gt;üå¶Ô∏è Monitor de Clima&lt;/h3&gt;
    &lt;div id="map" style="height:300px; background:#d0d7db; border-radius:10px;"&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;script&gt;
  // Fun√ß√µes de autentica√ß√£o
  function login() {
    window.location.href = "https://code.codehub2025.ct.ws/API/continuar-conta?token=SEU_TOKEN_AQUI";
  }
  
  function logout() {
    localStorage.clear();
    location.reload();
  }
  
  async function carregarProjetos() {
    const resultado = await window.api2_buscarProjetos();
    if (resultado.sucesso) {
      // Processar e exibir projetos
      console.log("Projetos carregados:", resultado.projetos);
    }
  }
  
  // Inicializa√ß√£o
  window.onload = function() {
    if (localStorage.getItem("userName")) {
      document.getElementById("userName").textContent = localStorage.getItem("userName");
      document.getElementById("userInfo").style.display = "block";
    }
    
    // Valida√ß√£o autom√°tica
    if (typeof validarLogin === "function") {
      validarLogin(function(res) {
        if (res.success) {
          localStorage.setItem("userName", res.userName);
          location.reload();
        }
      });
    }
  };
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <div class="note">
      <strong>‚ú® Novidades na Vers√£o 2.4:</strong>
      <ul>
        <li>Sistema completo de autentica√ß√£o de usu√°rios</li>
        <li>Visualiza√ß√£o de projetos com suporte a m√∫ltiplos tipos de arquivos</li>
        <li>Fun√ß√£o <code>api2_buscarProjetos()</code> para buscar projetos</li>
        <li>Fun√ß√£o <code>validarLogin()</code> para autentica√ß√£o autom√°tica</li>
        <li>Sess√£o persistente com localStorage</li>
        <li>Exemplos completos e prontos para uso</li>
      </ul>
    </div>

    <footer>
      Documenta√ß√£o atualizada em: 2025 | Todos os direitos reservados | Vers√£o da API: 2.4 | IA CodeHUB
    </footer>
  </div>

  <!-- INCLUIR A IA CODEHUB NA DOCUMENTA√á√ÉO -->
  <script src="https://alexandre7888.github.io/CodeHUB/API/ia.js"></script>

  <script>
    // Carregar tokens salvos do localStorage
    function loadSavedTokens() {
      const tokenSelect = document.getElementById('tokenSelect');

      // Limpar op√ß√µes exceto a primeira (exemplo)
      while (tokenSelect.options.length > 1) {
        tokenSelect.remove(1);
      }

      // Buscar tokens do localStorage
      try {
        const savedTokens = JSON.parse(localStorage.getItem('userTokens') || '[]');

        savedTokens.forEach(token => {
          const option = document.createElement('option');
          option.value = token.value;
          option.textContent = `${token.appName} - ${token.value.substring(0, 10)}...`;
          tokenSelect.appendChild(option);
        });

        // Se n√£o houver tokens salvos, mostrar mensagem
        if (savedTokens.length === 0) {
          const option = document.createElement('option');
          option.value = '';
          option.textContent = 'Nenhum token salvo encontrado';
          option.disabled = true;
          tokenSelect.appendChild(option);
        }
      } catch (error) {
        console.error('Erro ao carregar tokens:', error);
      }
    }

    // Usar token selecionado
    function useSelectedToken() {
      const tokenSelect = document.getElementById('tokenSelect');
      const selectedToken = tokenSelect.value;

      if (selectedToken && selectedToken !== 'WIWMgTST2LIG4z1sp4Mi') {
        document.getElementById('currentTokenValue').textContent = selectedToken;
        document.getElementById('currentTokenDisplay').style.display = 'block';

        // Mostrar URL da API com token
        const apiUrl = `https://alexandre7888.github.io/CodeHUB/API/clima.js?token=${selectedToken}`;
        document.getElementById('apiUrlValue').textContent = apiUrl;
        document.getElementById('apiUrlDisplay').style.display = 'block';

        // Atualizar exemplos de c√≥digo com o token real
        updateCodeExamples(selectedToken);

        alert('Token selecionado! Agora voc√™ pode usar este token nos exemplos de c√≥digo.');
      } else {
        alert('Selecione um token v√°lido (n√£o o exemplo).');
      }
    }

    // Copiar URL da API
    function copyApiUrl() {
      const apiUrl = document.getElementById('apiUrlValue').textContent;
      navigator.clipboard.writeText(apiUrl).then(() => {
        alert('URL copiada para a √°rea de transfer√™ncia!');
      }).catch(err => {
        alert('Erro ao copiar URL: ' + err);
      });
    }

    // Atualizar exemplos de c√≥digo com token real
    function updateCodeExamples(token) {
      const codeBlocks = document.querySelectorAll('pre code');
      codeBlocks.forEach(block => {
        block.textContent = block.textContent.replace(
          /token=SEU_TOKEN_AQUI/g, 
          `token=${token}`
        ).replace(
          /token=SEU_TOKEN/g,
          `token=${token}`
        );
      });
    }

    // ======================================================
    // DEMONSTRA√á√ÉO DO SISTEMA DE AUTENTICA√á√ÉO
    // ======================================================
    
    // Carregar as APIs necess√°rias para a demonstra√ß√£o
    const apiScript = document.createElement('script');
    apiScript.src = 'https://alexandre7888.github.io/CodeHUB/API/api2.js';
    document.head.appendChild(apiScript);
    
    const authScript = document.createElement('script');
    authScript.src = 'https://alexandre7888.github.io/CodeHUB/PI/userKeyAPI.js';
    document.head.appendChild(authScript);
    
    // Configurar demonstra√ß√£o interativa
    document.addEventListener('DOMContentLoaded', function() {
      loadSavedTokens();
      
      const demoLoginBtn = document.getElementById('demoLoginBtn');
      const demoLogoutBtn = document.getElementById('demoLogoutBtn');
      const demoLoadBtn = document.getElementById('demoLoadBtn');
      const demoUserInfo = document.getElementById('demoUserInfo');
      const demoUserName = document.getElementById('demoUserName');
      const demoProjects = document.getElementById('demoProjects');
      
      // Verificar se j√° est√° logado (demonstra√ß√£o)
      const demoUser = localStorage.getItem('demoCodeHubUser');
      if (demoUser) {
        demoUserName.textContent = demoUser;
        demoUserInfo.style.display = 'block';
        demoLoginBtn.style.display = 'none';
        demoLogoutBtn.style.display = 'inline-block';
        demoLoadBtn.style.display = 'inline-block';
      }
      
      // Bot√£o de Login (Demonstra√ß√£o)
      demoLoginBtn.addEventListener('click', function() {
        const tokenSelect = document.getElementById('tokenSelect');
        const selectedToken = tokenSelect.value;
        
        if (selectedToken && selectedToken !== 'WIWMgTST2LIG4z1sp4Mi') {
          // Simula√ß√£o de login para demonstra√ß√£o
          const userName = 'Usuario_' + Math.floor(Math.random() * 1000);
          localStorage.setItem('demoCodeHubUser', userName);
          
          demoUserName.textContent = userName;
          demoUserInfo.style.display = 'block';
          demoLoginBtn.style.display = 'none';
          demoLogoutBtn.style.display = 'inline-block';
          demoLoadBtn.style.display = 'inline-block';
          
          demoProjects.innerHTML = '<p style="color:green;">‚úÖ Login realizado com sucesso!</p>' +
                                  '<p><small>Token usado: ' + selectedToken.substring(0, 20) + '...</small></p>';
        } else {
          alert('Selecione um token v√°lido primeiro!');
        }
      });
      
      // Bot√£o de Logout (Demonstra√ß√£o)
      demoLogoutBtn.addEventListener('click', function() {
        localStorage.removeItem('demoCodeHubUser');
        demoUserInfo.style.display = 'none';
        demoLoginBtn.style.display = 'inline-block';
        demoLogoutBtn.style.display = 'none';
        demoLoadBtn.style.display = 'none';
        demoProjects.innerHTML = '';
      });
      
      // Bot√£o para Carregar Projetos (Demonstra√ß√£o)
      demoLoadBtn.addEventListener('click', async function() {
        demoProjects.innerHTML = '<p>Carregando projetos de demonstra√ß√£o...</p>';
        
        // Simula√ß√£o de projetos para demonstra√ß√£o
        setTimeout(function() {
          demoProjects.innerHTML = `
            <div style="background:white; padding:15px; border-radius:8px; margin-top:10px;">
              <h4>üìÅ Projeto de Exemplo 1</h4>
              <p><small>Arquivos: 3 | √öltima atualiza√ß√£o: Hoje</small></p>
            </div>
            <div style="background:white; padding:15px; border-radius:8px; margin-top:10px;">
              <h4>üìÅ Projeto de Exemplo 2</h4>
              <p><small>Arquivos: 5 | √öltima atualiza√ß√£o: Ontem</small></p>
            </div>
            <p style="margin-top:10px;"><small><em>Em um ambiente real, os projetos do usu√°rio seriam carregados aqui.</em></small></p>
          `;
        }, 1000);
      });
      
      // Valida√ß√£o autom√°tica para demonstra√ß√£o
      if (typeof validarLogin === 'function') {
        setTimeout(function() {
          validarLogin(function(res) {
            if (res && res.success) {
              // Esta parte funcionaria em um ambiente real
              console.log('Login validado:', res);
            }
          });
        }, 500);
      }
    });
  </script>
</body>
</html>
