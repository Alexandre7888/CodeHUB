<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Documenta√ß√£o da API CodeHUB</title>
  <style>
    :root{font-family: Inter,ui-sans-serif,system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:#0f172a}
    body{margin:0; padding:32px; background:#f8fafc}
    .container{max-width:900px; margin:0 auto; background:#fff; padding:28px; border-radius:12px; box-shadow:0 6px 24px rgba(15,23,42,0.06)}
    h1{font-size:26px; margin:0 0 6px}
    h2{font-size:18px; margin-top:18px}
    p{line-height:1.5}
    pre{background:#0f172a; color:#f8fafc; padding:12px; border-radius:8px; overflow:auto}
    code{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace}
    ul{margin-left:18px}
    .note{background:#fffbeb; padding:10px; border-radius:8px; border:1px solid #fde68a}
    .tips{background:#eef2ff; padding:10px; border-radius:8px}
    .partners{background:#f1f5f9; padding:10px; border-radius:8px; margin-top:10px; border-left:4px solid #6366f1}
    table{width:100%; border-collapse:collapse; margin-top:8px}
    th, td{padding:8px; text-align:left; border-bottom:1px solid #eef2ff}
    footer{color:#94a3b8; font-size:13px; margin-top:20px}
    
    /* Novo estilo para seletor de tokens */
    .token-selector {margin:20px 0; padding:15px; background:#f8fafc; border-radius:8px; border:1px solid #e2e8f0}
    .token-selector select, .token-selector button {padding:8px 12px; margin:5px; border-radius:4px; border:1px solid #cbd5e1}
    .token-selector button {background:#3b82f6; color:white; border:none; cursor:pointer}
    .token-selector button:hover {background:#2563eb}
    .current-token {background:#dcfce7; padding:8px; border-radius:4px; margin-top:10px; font-family:monospace; word-break:break-all}
  </style>
</head>
<body>
  <div class="container">
    <h1>Documenta√ß√£o da API CodeHUB</h1>
    <p class="note"><strong>Vers√£o:</strong> 2.2 (Firebase + CodeFox + Editor Copiloto + API Clima)</p>

    <!-- NOVO SELETOR DE TOKENS -->
    <div class="token-selector">
      <h3>üîë Seletor de Tokens</h3>
      <p>Selecione um token salvo ou use o exemplo:</p>
      
      <select id="tokenSelect">
        <option value="WIWMgTST2LIG4z1sp4Mi">Token de Exemplo (n√£o funcional)</option>
      </select>
      
      <button onclick="useSelectedToken()">Usar Token Selecionado</button>
      
      <div id="currentTokenDisplay" class="current-token" style="display:none">
        <strong>Token Atual:</strong> <span id="currentTokenValue"></span>
      </div>
    </div>

    <h2>Vis√£o Geral</h2>
    <p>A API CodeHUB integra projetos de c√≥digo hospedados no Firebase com assistentes inteligentes. Agora conta com tr√™s recursos principais:</p>
    <div class="partners">
      <strong>üëæ CodeFox:</strong> Nossa mascote e intelig√™ncia artificial avan√ßada. Ajuda a gerar, corrigir e melhorar c√≥digos, al√©m de interagir com usu√°rios de forma divertida e eficiente.<br><br>
      <strong>üõ† Editor Copiloto:</strong> Um assistente que trabalha lado a lado com voc√™ no editor, sugerindo melhorias, corrigindo erros e automatizando tarefas repetitivas.<br><br>
      <strong>üå¶Ô∏è API Clima:</strong> Nova API para monitoramento de condi√ß√µes clim√°ticas em tempo real com mapa interativo e relat√≥rios de alagamento.<br><br>
      <em>Todos s√£o parceiros e podem trabalhar juntos para tornar a experi√™ncia de desenvolvimento mais √°gil e inteligente.</em>
    </div>

    <h2>O que voc√™ pode fazer com eles?</h2>
    <ul>
      <li><strong>CodeFox:</strong> Gera√ß√£o de c√≥digo, explica√ß√µes t√©cnicas, integra√ß√£o com API, cria√ß√£o de snippets inteligentes.</li>
      <li><strong>Editor Copiloto:</strong> Autocompletar inteligente, sugest√µes de refatora√ß√£o, integra√ß√£o com seu editor de c√≥digo online ou local.</li>
      <li><strong>API Clima:</strong> Monitoramento em tempo real, mapas interativos, relat√≥rios de risco de alagamento, localiza√ß√£o geogr√°fica.</li>
    </ul>

    <h2>Configura√ß√£o Inicial</h2>
    <p>Inclua os scripts da API e ative a IA em sua p√°gina:</p>
    <pre><code>&lt;script src="https://alexandre7888.github.io/CodeHUB/API/api2.js"&gt;&lt;/script&gt;
&lt;script src="https://alexandre7888.github.io/CodeHUB/API/userKeyAPI.js"&gt;&lt;/script&gt;
&lt;script src="https://assistente-ia--socialkoala6579904.on.websim.com/embed.js"&gt;&lt;/script&gt;

&lt;!-- NOVA API CLIMA --&gt;
&lt;script src="https://code.codehub2025.ct.ws/API/clima.js"&gt;&lt;/script&gt;</code></pre>

    <h2>Como habilitar a API Clima no seu site?</h2>
    <p>Adicione este exemplo simples ao seu HTML:</p>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Monitor de Clima&lt;/title&gt;
  &lt;style&gt;
    * { box-sizing: border-box; font-family: system-ui, sans-serif; }
    body { margin: 0; padding: 8px; background: #f5f5f3; color: #222; overflow: hidden; }
    .wrapper { height: 100vh; display: flex; flex-direction: column; gap: 6px; }
    .header { display: flex; align-items: center; justify-content: space-between; gap: 8px; padding: 6px 8px; border-radius: 10px; background: #fff; box-shadow: 0 1px 6px rgba(0,0,0,0.05); }
    .badge { font-size: 11px; padding: 3px 7px; border-radius: 999px; background: #eef3ef; color: #314334; }
    #map { width: 100%; height: 42vh; border-radius: 10px; background: #d0d7db; box-shadow: 0 1px 6px rgba(0,0,0,0.05); }
    .list { flex: 1; overflow-y: auto; padding: 2px 1px 4px; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div class="wrapper"&gt;
    &lt;div class="header"&gt;
      &lt;div&gt;üåßÔ∏è Monitor de Clima&lt;/div&gt;
      &lt;div class="badge"&gt;&lt;span id="badgeText"&gt;Carregando...&lt;/span&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="map"&gt;&lt;/div&gt;
    &lt;div class="list" id="list"&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- API CLIMA COM TOKEN --&gt;
  &lt;script src="https://code.codehub2025.ct.ws/API/clima.js?token=SEU_TOKEN_AQUI"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h2>Par√¢metros da URL</h2>
    <p>A API espera os seguintes par√¢metros (quando integrado com Firebase):</p>
    <table>
      <tr>
        <th>Par√¢metro</th>
        <th>Tipo</th>
        <th>Obrigat√≥rio</th>
        <th>Descri√ß√£o</th>
      </tr>
      <tr>
        <td>userKey</td>
        <td>String</td>
        <td>Sim*</td>
        <td>Chave √∫nica do usu√°rio (formato: ID-TOKEN)</td>
      </tr>
      <tr>
        <td>userName</td>
        <td>String</td>
        <td>Sim*</td>
        <td>Nome do usu√°rio para filtrar projetos</td>
      </tr>
      <tr>
        <td>token</td>
        <td>String</td>
        <td>Sim</td>
        <td>Token de autentica√ß√£o para API Clima</td>
      </tr>
    </table>
    <p class="note">* Pelo menos um dos par√¢metros (userKey ou userName) deve ser fornecido.</p>

    <h2>M√©todos da API</h2>
    <h3>1. renderProjects(container, userKey, userName)</h3>
    <p>Renderiza os projetos do usu√°rio no elemento container especificado.</p>
    <ul>
      <li><code>container</code> - Elemento DOM onde os projetos ser√£o renderizados</li>
      <li><code>userKey</code> - Chave do usu√°rio (opcional)</li>
      <li><code>userName</code> - Nome do usu√°rio (opcional)</li>
    </ul>

    <h2>Exemplo Completo (IA + API Clima)</h2>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Integra√ß√£o com CodeFox e API Clima&lt;/title&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/api2.js"&gt;&lt;/script&gt;
  &lt;script src="https://alexandre7888.github.io/CodeHUB/API/userKeyAPI.js"&gt;&lt;/script&gt;
  &lt;script src="https://assistente-ia--socialkoala6579904.on.websim.com/embed.js"&gt;&lt;/script&gt;
  &lt;script src="https://code.codehub2025.ct.ws/API/clima.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Meu Assistente CodeFox&lt;/h1&gt;
  &lt;div id="projects-container"&gt;&lt;/div&gt;
  &lt;div id="codefox-assistant"&gt;&lt;/div&gt;

  &lt;!-- Monitor de Clima --&gt;
  &lt;div class="wrapper"&gt;
    &lt;div class="header"&gt;
      &lt;div&gt;üåßÔ∏è Monitor de Clima&lt;/div&gt;
      &lt;div class="badge"&gt;&lt;span id="badgeText"&gt;Carregando...&lt;/span&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="map"&gt;&lt;/div&gt;
    &lt;div class="list" id="list"&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;script&gt;
    // Inicializa√ß√£o da API CodeHUB
    renderProjects('#projects-container');

    // Inicializa√ß√£o do assistente CodeFox
    window.CodeFox.init({
      container: '#codefox-assistant',
      theme: 'light',
      language: 'pt-BR'
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <footer>
      Documenta√ß√£o atualizada em: 19/08/2025 | Vers√£o da API: 2.2
    </footer>
  </div>

  <script>
    // Carregar tokens salvos do localStorage
    function loadSavedTokens() {
      const tokenSelect = document.getElementById('tokenSelect');
      
      // Limpar op√ß√µes exceto a primeira (exemplo)
      while (tokenSelect.options.length > 1) {
        tokenSelect.remove(1);
      }
      
      // Buscar tokens do localStorage (simula√ß√£o - ajuste conforme sua estrutura)
      try {
        const savedTokens = JSON.parse(localStorage.getItem('userTokens') || '[]');
        
        savedTokens.forEach(token => {
          const option = document.createElement('option');
          option.value = token.value;
          option.textContent = `${token.appName} - ${token.value}`;
          tokenSelect.appendChild(option);
        });
        
        // Se n√£o houver tokens salvos, mostrar mensagem
        if (savedTokens.length === 0) {
          const option = document.createElement('option');
          option.value = '';
          option.textContent = 'Nenhum token salvo encontrado';
          option.disabled = true;
          tokenSelect.appendChild(option);
        }
      } catch (error) {
        console.error('Erro ao carregar tokens:', error);
      }
    }
    
    // Usar token selecionado
    function useSelectedToken() {
      const tokenSelect = document.getElementById('tokenSelect');
      const selectedToken = tokenSelect.value;
      
      if (selectedToken && selectedToken !== 'WIWMgTST2LIG4z1sp4Mi') {
        document.getElementById('currentTokenValue').textContent = selectedToken;
        document.getElementById('currentTokenDisplay').style.display = 'block';
        
        // Atualizar exemplos de c√≥digo com o token real
        updateCodeExamples(selectedToken);
        
        alert('Token selecionado! Agora voc√™ pode usar este token nos exemplos de c√≥digo.');
      } else {
        alert('Selecione um token v√°lido (n√£o o exemplo).');
      }
    }
    
    // Atualizar exemplos de c√≥digo com token real
    function updateCodeExamples(token) {
      const codeBlocks = document.querySelectorAll('pre code');
      codeBlocks.forEach(block => {
        block.textContent = block.textContent.replace(
          /token=SEU_TOKEN_AQUI/g, 
          `token=${token}`
        );
      });
    }
    
    // Carregar tokens quando a p√°gina carregar
    document.addEventListener('DOMContentLoaded', loadSavedTokens);
  </script>
</body>
</html>